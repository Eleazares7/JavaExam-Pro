<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Examen de Programación - Java</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
  <!-- Agregar SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    .editor-container {
      display: flex;
      border: 1px solid #ccc;
      overflow: hidden;
      position: relative;
      height: 300px; /* Altura fija para el contenedor */
    }
    .line-numbers {
      background-color: #252526;
      color: #858585;
      padding: 10px 5px;
      font-family: 'Consolas', monospace;
      text-align: right;
      user-select: none;
      overflow-y: scroll; /* Permitir desplazamiento vertical */
      height: 100%; /* Ocupar toda la altura del contenedor */
      width: 40px;
      white-space: pre-wrap;
      scrollbar-width: none; /* Ocultar la barra de desplazamiento en los números de línea */
      -ms-overflow-style: none; /* Para Internet Explorer y Edge */
    }
    .line-numbers::-webkit-scrollbar {
      display: none; /* Ocultar la barra de desplazamiento en los números de línea para Chrome/Safari */
    }
    .editor {
      background-color: transparent; /* Fondo transparente para que el highlight sea visible */
      color: transparent; /* Texto transparente para que no interfiera con el highlight */
      font-family: 'Consolas', monospace;
      height: 100%; /* Ocupar toda la altura del contenedor */
      overflow-y: scroll; /* Mostrar barra de desplazamiento vertical cuando sea necesario */
      padding: 10px;
      border-radius: 0;
      flex: 1;
      outline: none;
      white-space: pre-wrap;
      overflow-wrap: break-word;
      position: relative;
      z-index: 2;
      caret-color: #ffffff; /* Cursor blanco para que sea visible */
      resize: none; /* Evitar que el textarea se redimensione */
      border: none; /* Quitar el borde del textarea */
    }
    .highlight {
      position: absolute;
      top: 0;
      left: 40px; /* Alinear con el textarea, dejando espacio para los números de línea */
      padding: 10px;
      width: calc(100% - 40px); /* Ajustar el ancho para que coincida con el textarea */
      height: 100%; /* Ocupar toda la altura del contenedor */
      background-color: #1e1e1e; /* Fondo oscuro */
      color: #d4d4d4; /* Color base del texto */
      pointer-events: none;
      white-space: pre-wrap;
      overflow-wrap: break-word;
      overflow-y: scroll; /* Permitir desplazamiento vertical */
      z-index: 1;
      font-family: 'Consolas', monospace;
      scrollbar-width: none; /* Ocultar la barra de desplazamiento en el highlight */
      -ms-overflow-style: none; /* Para Internet Explorer y Edge */
    }
    .highlight::-webkit-scrollbar {
      display: none; /* Ocultar la barra de desplazamiento en el highlight para Chrome/Safari */
    }
  </style>
</head>
<body>
  <div class="container mt-5">
    <h1 class="mb-4">Examen de Programación</h1>
    
    <form id="studentForm">
      <div class="mb-3">
        <label for="name" class="form-label">Nombre del Estudiante</label>
        <input type="text" class="form-control" id="name" required />
      </div>
      <div class="mb-3">
        <label for="matricula" class="form-label">Matrícula</label>
        <input type="text" class="form-control" id="matricula" required />
      </div>
      
      <div class="mb-3">
        <label for="codeSelection" class="form-label">Selecciona el Código a Realizar</label>
        <select class="form-select" id="codeSelection">
          <option value="1">Código 1 - Fibonacci</option>
          <option value="2">Código 2 - Potencia</option>
        </select>
      </div>

      <div class="mb-3">
        <h5>Instrucciones</h5>
        <div class="p-3 border bg-light" id="instructions"></div>
      </div>

      <div class="mb-3">
        <h5>Escribe tu Código 1</h5>
        <div class="editor-container">
          <div class="line-numbers" id="lines1"></div>
          <textarea class="editor" id="editor1" spellcheck="false"></textarea>
          <div class="highlight" id="highlight1"></div>
        </div>
      </div>

      <div class="mb-3">
        <h5>Escribe tu Código 2</h5>
        <div class="editor-container">
          <div class="line-numbers" id="lines2"></div>
          <textarea class="editor" id="editor2" spellcheck="false"></textarea>
          <div class="highlight" id="highlight2"></div>
        </div>
      </div>

      <div class="mb-3">
        <h5>Tiempo Restante: <span id="timer">400</span> segundos</h5>
      </div>

      <button type="submit" class="btn btn-primary">Enviar Respuestas</button>
    </form>
  </div>

  <script src="script.js"></script>
</body>
</html>